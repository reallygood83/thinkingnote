/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository
*/

var S=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var _=Object.prototype.hasOwnProperty;var R=(h,o)=>{for(var t in o)S(h,t,{get:o[t],enumerable:!0})},j=(h,o,t,e)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of K(o))!_.call(h,n)&&n!==t&&S(h,n,{get:()=>o[n],enumerable:!(e=G(o,n))||e.enumerable});return h};var Y=h=>j(S({},"__esModule",{value:!0}),h);var H={};R(H,{default:()=>A});module.exports=Y(H);var s=require("obsidian"),v="thinking-tool-connections",U=" - Materials",N={aiProvider:"openai",openaiApiKey:"",anthropicApiKey:"",openaiModel:"gpt-4o",anthropicModel:"claude-sonnet-4-20250514",materialNoteFolder:"",connectionsLimit:20,outputLanguage:"\uD55C\uAD6D\uC5B4"},A=class extends s.Plugin{constructor(){super(...arguments);this.settings=N;this.session={isActive:!1,sourceFilePath:null,materialNotePath:null,leftLeafId:null,centerLeafId:null,rightLeafId:null};this.floatingBtn=null;this.currentSelection=""}async onload(){await this.loadSettings(),this.registerView(v,t=>new P(t,this)),this.addCommand({id:"start-thinking-session",name:"Start Thinking Session",checkCallback:t=>{let e=this.app.workspace.getActiveFile();return e?(t||this.startThinkingSession(e),!0):!1}}),this.addCommand({id:"end-thinking-session",name:"End Thinking Session",checkCallback:t=>this.session.isActive?(t||this.endThinkingSession(),!0):!1}),this.addCommand({id:"generate-article",name:"Generate Article from Materials",checkCallback:t=>this.session.isActive&&this.session.materialNotePath?(t||this.openGenerateModal(),!0):!1}),this.registerEvent(this.app.workspace.on("editor-menu",(t,e,n)=>{if(!this.session.isActive)return;let i=e.getSelection();if(!i||i.trim().length===0)return;let a=n instanceof s.MarkdownView?n:null,r=(a==null?void 0:a.file)||this.app.workspace.getActiveFile();t.addItem(l=>{l.setTitle("\u{1F4DD} \uC18C\uC7AC\uB85C \uCD94\uAC00").setIcon("plus-circle").onClick(()=>{r?this.openThoughtModal(i,r.path):new s.Notice("Cannot determine source file")})})})),this.registerEvent(this.app.workspace.on("active-leaf-change",t=>{if(!this.session.isActive||!t)return;if(t.getViewState().type==="markdown"){let n=t.view.file;n&&n.path!==this.session.materialNotePath&&this.refreshConnectionsView(n.path)}})),this.addSettingTab(new C(this.app,this)),this.addRibbonIcon("brain","Start Thinking Tool",()=>{let t=this.app.workspace.getActiveFile();t?this.startThinkingSession(t):new s.Notice("Please open a note first")}),this.setupSelectionListener()}onunload(){this.app.workspace.detachLeavesOfType(v),this.removeFloatingButton()}setupSelectionListener(){this.floatingBtn=document.createElement("button"),this.floatingBtn.addClass("thinking-tool-floating-btn"),this.floatingBtn.setText("\u{1F4DD} \uC18C\uC7AC\uB85C \uCD94\uAC00"),this.floatingBtn.style.display="none",document.body.appendChild(this.floatingBtn),this.floatingBtn.onclick=t=>{if(t.preventDefault(),t.stopPropagation(),this.currentSelection){let e=this.app.workspace.getActiveFile();e&&this.openThoughtModal(this.currentSelection,e.path)}this.hideFloatingButton()},this.registerDomEvent(document,"mouseup",t=>{setTimeout(()=>this.handleSelectionChange(t),10)}),this.registerDomEvent(document,"mousedown",t=>{this.floatingBtn&&!this.floatingBtn.contains(t.target)&&this.hideFloatingButton()}),this.registerDomEvent(document,"keydown",()=>{this.hideFloatingButton()})}handleSelectionChange(t){if(!this.session.isActive)return;let e=window.getSelection(),n=e==null?void 0:e.toString().trim();n&&n.length>0?(this.currentSelection=n,this.showFloatingButton(t.clientX,t.clientY)):this.hideFloatingButton()}showFloatingButton(t,e){if(!this.floatingBtn)return;let n=120,i=32,a=t-n/2,r=e-i-10;a<10&&(a=10),a+n>window.innerWidth-10&&(a=window.innerWidth-n-10),r<10&&(r=e+20),this.floatingBtn.style.left=`${a}px`,this.floatingBtn.style.top=`${r}px`,this.floatingBtn.style.display="block"}hideFloatingButton(){this.floatingBtn&&(this.floatingBtn.style.display="none"),this.currentSelection=""}removeFloatingButton(){this.floatingBtn&&(this.floatingBtn.remove(),this.floatingBtn=null)}async loadSettings(){this.settings=Object.assign({},N,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async startThinkingSession(t){if(this.session.isActive){new s.Notice("A thinking session is already active. End it first.");return}let e=await this.createMaterialNote(t);if(!e){new s.Notice("Failed to create material note");return}this.session={isActive:!0,sourceFilePath:t.path,materialNotePath:e,leftLeafId:null,centerLeafId:null,rightLeafId:null},await this.setupThreePanelLayout(t.path,e),new s.Notice("Thinking session started! Select text and right-click to add materials.")}async endThinkingSession(){this.session.isActive&&(this.session={isActive:!1,sourceFilePath:null,materialNotePath:null,leftLeafId:null,centerLeafId:null,rightLeafId:null},this.app.workspace.detachLeavesOfType(v),new s.Notice("Thinking session ended"))}async createMaterialNote(t){var c;let e=t.basename+U,n=this.settings.materialNoteFolder||((c=t.parent)==null?void 0:c.path)||"";if(n=(0,s.normalizePath)(n),n){let d=this.app.vault.getAbstractFileByPath(n);if(d)d instanceof s.TFolder||(console.warn("Path is a file, not folder. Using vault root."),n="");else try{await this.app.vault.createFolder(n)}catch(p){console.log("Folder creation note:",p)}}let i=n?n+"/":"",a=(0,s.normalizePath)(`${i}${e}.md`),r=1;for(;this.app.vault.getAbstractFileByPath(a);)a=(0,s.normalizePath)(`${i}${e} ${r}.md`),r++;let l=`# Materials from [[${t.basename}]]

> [!info] Thinking Tool Session
> This note collects materials for article generation.
> Source: [[${t.basename}]]

---

`;try{return await this.app.vault.create(a,l),a}catch(d){console.error("Failed to create material note:",d);try{let p=(0,s.normalizePath)(`${e}.md`);return await this.app.vault.create(p,l),new s.Notice("Material note created in vault root (folder issue)"),p}catch(p){return console.error("Failed to create material note in root:",p),null}}}async appendMaterial(t,e,n){if(!this.session.materialNotePath)return;let i=this.app.vault.getAbstractFileByPath(this.session.materialNotePath);if(!(i instanceof s.TFile))return;let r=`
> [!quote] [[${e.replace(/\.md$/,"").split("/").pop()}]]
> ${t.split(`
`).join(`
> `)}
>
> **My Thought**: ${n||"_No thought added_"}

---

`,l=await this.app.vault.read(i);await this.app.vault.modify(i,l+r),new s.Notice("Material added!")}async setupThreePanelLayout(t,e){let n=this.app.workspace,i=n.getLeaf(),a=n.createLeafBySplit(i,"vertical");await a.setViewState({type:v,active:!1,state:{sourcePath:t}});let r=n.createLeafBySplit(a,"vertical");await r.openFile(this.app.vault.getAbstractFileByPath(e)),n.setActiveLeaf(i,{focus:!0}),this.session.leftLeafId=i.id,this.session.centerLeafId=a.id,this.session.rightLeafId=r.id,this.refreshConnectionsView(t)}async refreshConnectionsView(t){let e=this.app.workspace.getLeavesOfType(v);for(let n of e){let i=n.view;i&&await i.loadConnections(t)}}async getSmartConnections(t){var e,n,i;try{let a=(n=(e=this.app.plugins)==null?void 0:e.getPlugin)==null?void 0:n.call(e,"smart-connections");if(!a)return console.warn("Smart Connections plugin not found"),null;let r=a.env||(typeof globalThis!="undefined"?globalThis.smart_env:null);if(!r)return console.warn("Smart Connections environment not loaded"),null;r.state!=="loaded"&&await this.waitForSmartEnv(r);let l=(i=r.smart_sources)==null?void 0:i.get(t);return l?l.connections?await l.connections.get_results({limit:this.settings.connectionsLimit}):l.find_connections?await l.find_connections({limit:this.settings.connectionsLimit}):null:(console.warn("Source not found in Smart Connections:",t),null)}catch(a){return console.error("Error getting smart connections:",a),null}}waitForSmartEnv(t){return new Promise(e=>{let n=setInterval(()=>{t.state==="loaded"&&(clearInterval(n),e())},100);setTimeout(()=>{clearInterval(n),e()},1e4)})}openThoughtModal(t,e){new x(this.app,this,t,e).open()}openGenerateModal(){new F(this.app,this).open()}async generateTopicSuggestions(t){let e=this.settings.outputLanguage||"\uD55C\uAD6D\uC5B4",n=`You are a creative writing assistant. Based on the following collected materials, suggest 3 provocative and interesting topic/angle combinations for an article.

**IMPORTANT: All output must be written in ${e}.**

Materials:
${t}

For each suggestion, provide:
1. A compelling title (in ${e})
2. A brief description of the angle/approach (in ${e})
3. A simple outline with 3-5 bullet points (in ${e})

Be provocative and creative - suggest angles that might challenge assumptions or offer fresh perspectives.

Respond in JSON format (but content in ${e}):
[
  {
    "title": "...",
    "description": "...",
    "outline": ["point 1", "point 2", "point 3"]
  }
]`,i=await this.callAI(n);try{let a=i.match(/\[[\s\S]*\]/);return a?JSON.parse(a[0]):[]}catch(a){return console.error("Failed to parse topic suggestions"),[]}}async generateArticle(t,e,n){let i=this.settings.outputLanguage||"\uD55C\uAD6D\uC5B4",a={essay:`Write in a thoughtful, reflective essay style with depth and nuance. Use literary techniques and personal insights. Write entirely in ${i}.`,blog:`Write in a friendly, conversational blog style. Be engaging and accessible while maintaining substance. Write entirely in ${i}.`,academic:`Write in a formal academic style with clear argumentation, citations where appropriate, and rigorous analysis. Write entirely in ${i}.`,twitter:`Write as a compelling Twitter/X thread. Use short, punchy sentences. Include hooks and build tension. Format as numbered tweets. Write entirely in ${i}.`,custom:`Write in a clear, professional style that balances accessibility with depth. Write entirely in ${i}.`},r=`You are a skilled writer. Write an article based on the following:

**IMPORTANT: The entire article must be written in ${i}.**

Topic: ${e.title}
Approach: ${e.description}
Outline:
${e.outline.map((l,c)=>`${c+1}. ${l}`).join(`
`)}

Materials to incorporate:
${t}

Style: ${a[n]}

Important:
- Write the entire article in ${i}
- Incorporate the collected materials naturally
- Stay true to the user's collected thoughts and insights
- Don't add information that contradicts the materials
- Make the article coherent and well-structured

Write the complete article in ${i} now:`;return await this.callAI(r)}async callAI(t){return this.settings.aiProvider==="openai"?await this.callOpenAI(t):await this.callAnthropic(t)}async callOpenAI(t){if(!this.settings.openaiApiKey)throw new Error("OpenAI API key not configured");let e=await(0,s.requestUrl)({url:"https://api.openai.com/v1/chat/completions",method:"POST",headers:{Authorization:`Bearer ${this.settings.openaiApiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:this.settings.openaiModel,messages:[{role:"user",content:t}],max_tokens:4e3,temperature:.7})});if(e.status!==200)throw new Error(`OpenAI API error: ${e.status}`);return e.json.choices[0].message.content}async callAnthropic(t){if(!this.settings.anthropicApiKey)throw new Error("Anthropic API key not configured");let e=await(0,s.requestUrl)({url:"https://api.anthropic.com/v1/messages",method:"POST",headers:{"x-api-key":this.settings.anthropicApiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:this.settings.anthropicModel,max_tokens:4e3,messages:[{role:"user",content:t}]})});if(e.status!==200)throw new Error(`Anthropic API error: ${e.status}`);return e.json.content[0].text}async createArticleNote(t,e){var p;if(!this.session.materialNotePath)return null;let n=this.app.vault.getAbstractFileByPath(this.session.materialNotePath);if(!(n instanceof s.TFile))return null;let i=((p=n.parent)==null?void 0:p.path)||"",a=e.title.replace(/[\\/:*?"<>|]/g,"-").slice(0,50),r=i?`${i}/${a}.md`:`${a}.md`,l=1;for(;this.app.vault.getAbstractFileByPath(r);)r=i?`${i}/${a} ${l}.md`:`${a} ${l}.md`,l++;let c=this.session.materialNotePath.replace(/\.md$/,"").split("/").pop(),d=`# ${e.title}

> [!info] Generated with Thinking Tool
> Materials: [[${c}]]
> Generated: ${new Date().toISOString().split("T")[0]}

---

${t}

---

## Sources

- Materials: [[${c}]]
`;try{return await this.app.vault.create(r,d)}catch(T){return console.error("Failed to create article note:",T),null}}},P=class extends s.ItemView{constructor(t,e){super(t);this.currentSourcePath=null;this.connections=[];this.isLoading=!1;this.plugin=e}getViewType(){return v}getDisplayText(){return"Smart Connections"}getIcon(){return"link"}async onOpen(){let t=this.containerEl.children[1];t.empty(),t.addClass("thinking-tool-connections-view"),this.render()}async onClose(){}async loadConnections(t){this.currentSourcePath=t,this.isLoading=!0,this.render();let e=await this.plugin.getSmartConnections(t);this.connections=e||[],this.isLoading=!1,this.render()}render(){var c,d,p,T,E;let t=this.containerEl.children[1];t.empty();let e=t.createDiv({cls:"view-header"});e.createEl("h4",{text:"Related Notes"});let n=e.createDiv({cls:"view-actions"}),i=n.createEl("button",{text:"\u21BB"});i.setAttribute("title","Refresh"),i.onclick=()=>{this.currentSourcePath&&this.loadConnections(this.currentSourcePath)};let a=n.createEl("button",{text:"\u270D\uFE0F \uAE00\uC4F0\uAE30"});a.setAttribute("title","Generate Article"),a.onclick=()=>{this.plugin.openGenerateModal()};let r=n.createEl("button",{text:"\u{1F3C1} \uB9C8\uAC10"});if(r.setAttribute("title","End Session"),r.style.backgroundColor="var(--interactive-accent)",r.style.color="var(--text-on-accent)",r.onclick=()=>{this.plugin.endThinkingSession()},this.isLoading){t.createDiv({cls:"loading-state",text:"Loading connections..."});return}if(this.connections.length===0){let y=t.createDiv({cls:"empty-state"});y.createDiv({cls:"empty-icon",text:"\u{1F517}"}),y.createEl("p",{text:"No connections found. Make sure Smart Connections plugin is installed and has indexed your notes."});return}let l=t.createDiv({cls:"connections-list"});for(let y of this.connections){let f=(((c=y.item)==null?void 0:c.path)||((p=(d=y.item)==null?void 0:d.data)==null?void 0:p.path)||((T=y.item)==null?void 0:T.key)||"").split("#")[0];if(f&&!f.endsWith(".md")&&(f=f+".md"),!f)continue;let k=l.createDiv({cls:"connection-item"}),M=((E=f.split("/").pop())==null?void 0:E.replace(/\.md$/,""))||f;k.createSpan({cls:"connection-title",text:M});let D=Math.round((y.score||0)*100);k.createSpan({cls:"connection-score",text:`${D}%`}),k.dataset.path=f;let O=async u=>{var $,I,B;console.log("ThinkingTool: Click handler fired for path:",u);let g=this.app.vault.getAbstractFileByPath(u);if(!g&&u.endsWith(".md")&&(g=this.app.vault.getAbstractFileByPath(u.slice(0,-3))),!g){let m=($=u.split("/").pop())==null?void 0:$.replace(/\.md$/,"");m&&(g=this.app.vault.getMarkdownFiles().find(V=>V.basename===m)||null,console.log("ThinkingTool: Searching by basename:",m,"Found:",g==null?void 0:g.path))}if(!(g instanceof s.TFile)){new s.Notice("File not found: "+u),console.error("ThinkingTool: File not found:",u);return}console.log("ThinkingTool: Found file:",g.path);let W=this.plugin.session.materialNotePath,w=null,L=this.app.workspace.getLeavesOfType("markdown");console.log("ThinkingTool: Found markdown leaves:",L.length);for(let m of L){let b=(B=(I=m.view)==null?void 0:I.file)==null?void 0:B.path;if(console.log("ThinkingTool: Checking leaf with file:",b),b!==W){w=m;break}}w||(console.log("ThinkingTool: No suitable leaf found, creating new one"),w=this.app.workspace.getLeaf("split","vertical"));try{await w.openFile(g),this.plugin.session.leftLeafId=w.id,this.app.workspace.setActiveLeaf(w,{focus:!0}),await this.loadConnections(g.path),new s.Notice(`\u{1F4C4} ${g.basename}`),console.log("ThinkingTool: Successfully opened file")}catch(m){console.error("ThinkingTool: Error opening file:",m),new s.Notice("Error opening file: "+m)}};k.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation(),O(f)})}}},x=class extends s.Modal{constructor(o,t,e,n){super(o),this.plugin=t,this.selectedText=e,this.sourcePath=n}onOpen(){var c;let{contentEl:o}=this;o.addClass("thinking-tool-modal"),o.createEl("h2",{text:"Add Material"}),o.createDiv({cls:"quote-preview"}).setText(this.selectedText.length>200?this.selectedText.slice(0,200)+"...":this.selectedText);let e=(c=this.sourcePath.split("/").pop())==null?void 0:c.replace(/\.md$/,"");o.createDiv({cls:"source-info",text:`From: ${e}`});let n=o.createDiv({cls:"thought-input-container"});n.createEl("label",{text:"What's your thought on this?"});let i=n.createEl("textarea",{cls:"thought-input"});i.placeholder="Add your reflection, connection, or insight...";let a=o.createDiv({cls:"modal-buttons"}),r=a.createEl("button",{cls:"btn-secondary",text:"Cancel"});r.onclick=()=>this.close();let l=a.createEl("button",{cls:"btn-primary",text:"Add Material"});l.onclick=async()=>{await this.plugin.appendMaterial(this.selectedText,this.sourcePath,i.value),this.close()},setTimeout(()=>i.focus(),100)}onClose(){let{contentEl:o}=this;o.empty()}},F=class extends s.Modal{constructor(t,e){super(t);this.step=1;this.topics=[];this.selectedTopic=null;this.selectedPersona="essay";this.isGenerating=!1;this.plugin=e}async onOpen(){let{contentEl:t}=this;t.addClass("thinking-tool-generate-modal"),await this.render()}async render(){let{contentEl:t}=this;t.empty(),t.createEl("h2",{text:"Generate Article"});let e=t.createDiv({cls:"step-indicator"});for(let n=1;n<=3;n++){let i=e.createDiv({cls:`step ${n===this.step?"active":""}`});i.createSpan({cls:"step-number",text:String(n)}),i.createSpan({text:n===1?"Topics":n===2?"Persona":"Generate"})}if(this.isGenerating){let n=t.createDiv({cls:"generating-state"});n.createDiv({cls:"spinner"}),n.createEl("p",{text:"Generating..."});return}this.step===1?await this.renderStep1(t):this.step===2&&this.renderStep2(t)}async renderStep1(t){if(this.topics.length===0){t.createEl("p",{text:"Analyzing your materials..."});let r=await this.getMaterialsContent();if(!r){t.empty(),t.createEl("p",{text:"No materials found. Add some materials first!"});return}try{this.topics=await this.plugin.generateTopicSuggestions(r),this.render();return}catch(l){t.empty(),t.createEl("p",{text:`Error generating topics: ${l}`});return}}t.createEl("h3",{text:"Choose a Topic Angle"});let e=t.createDiv({cls:"topic-options"});for(let r of this.topics){let l=e.createDiv({cls:`topic-option ${this.selectedTopic===r?"selected":""}`});l.createDiv({cls:"topic-title",text:r.title}),l.createDiv({cls:"topic-description",text:r.description}),l.onclick=()=>{this.selectedTopic=r,this.render()}}let n=t.createDiv({cls:"modal-buttons"}),i=n.createEl("button",{cls:"btn-secondary",text:"Cancel"});i.onclick=()=>this.close();let a=n.createEl("button",{cls:"btn-primary",text:"Next"});a.disabled=!this.selectedTopic,a.onclick=()=>{this.selectedTopic&&(this.step=2,this.render())}}renderStep2(t){t.createEl("h3",{text:"Choose Writing Style"});let e=[{key:"essay",label:"\u{1F4DD} Essay"},{key:"blog",label:"\u{1F4AC} Blog"},{key:"academic",label:"\u{1F4DA} Academic"},{key:"twitter",label:"\u{1F426} Twitter Thread"}],n=t.createDiv({cls:"persona-selector"});for(let l of e){let c=n.createDiv({cls:`persona-option ${this.selectedPersona===l.key?"selected":""}`});c.setText(l.label),c.onclick=()=>{this.selectedPersona=l.key,this.render()}}let i=t.createDiv({cls:"modal-buttons"}),a=i.createEl("button",{cls:"btn-secondary",text:"Back"});a.onclick=()=>{this.step=1,this.render()};let r=i.createEl("button",{cls:"btn-primary",text:"Generate Article"});r.onclick=async()=>{await this.generateArticle()}}async getMaterialsContent(){if(!this.plugin.session.materialNotePath)return null;let t=this.app.vault.getAbstractFileByPath(this.plugin.session.materialNotePath);return t instanceof s.TFile?await this.app.vault.read(t):null}async generateArticle(){if(this.selectedTopic){this.isGenerating=!0,this.render();try{let t=await this.getMaterialsContent();if(!t)throw new Error("Could not read materials");let e=await this.plugin.generateArticle(t,this.selectedTopic,this.selectedPersona),n=await this.plugin.createArticleNote(e,this.selectedTopic);if(n)new s.Notice("Article created!"),await this.app.workspace.getLeaf().openFile(n),this.close();else throw new Error("Failed to create article note")}catch(t){new s.Notice(`Error: ${t}`),this.isGenerating=!1,this.render()}}}onClose(){let{contentEl:t}=this;t.empty()}},C=class extends s.PluginSettingTab{constructor(o,t){super(o,t),this.plugin=t}display(){let{containerEl:o}=this;o.empty(),o.addClass("thinking-tool-settings"),o.createEl("h2",{text:"Thinking Tool Settings"}),o.createEl("h3",{text:"AI Provider"}),new s.Setting(o).setName("Provider").setDesc("Choose your AI provider").addDropdown(t=>t.addOption("openai","OpenAI").addOption("anthropic","Anthropic (Claude)").setValue(this.plugin.settings.aiProvider).onChange(async e=>{this.plugin.settings.aiProvider=e,await this.plugin.saveSettings()})),o.createEl("h4",{text:"OpenAI"}),new s.Setting(o).setName("API Key").setDesc("Your OpenAI API key").addText(t=>t.setPlaceholder("sk-...").setValue(this.plugin.settings.openaiApiKey).onChange(async e=>{this.plugin.settings.openaiApiKey=e,await this.plugin.saveSettings()})),new s.Setting(o).setName("Model").setDesc("OpenAI model to use").addText(t=>t.setPlaceholder("gpt-4o").setValue(this.plugin.settings.openaiModel).onChange(async e=>{this.plugin.settings.openaiModel=e,await this.plugin.saveSettings()})),o.createEl("h4",{text:"Anthropic"}),new s.Setting(o).setName("API Key").setDesc("Your Anthropic API key").addText(t=>t.setPlaceholder("sk-ant-...").setValue(this.plugin.settings.anthropicApiKey).onChange(async e=>{this.plugin.settings.anthropicApiKey=e,await this.plugin.saveSettings()})),new s.Setting(o).setName("Model").setDesc("Anthropic model to use").addText(t=>t.setPlaceholder("claude-sonnet-4-20250514").setValue(this.plugin.settings.anthropicModel).onChange(async e=>{this.plugin.settings.anthropicModel=e,await this.plugin.saveSettings()})),o.createEl("h3",{text:"General"}),new s.Setting(o).setName("Material Notes Folder").setDesc("Folder to save material notes (leave empty for same folder as source)").addText(t=>t.setPlaceholder("Materials").setValue(this.plugin.settings.materialNoteFolder).onChange(async e=>{this.plugin.settings.materialNoteFolder=e,await this.plugin.saveSettings()})),new s.Setting(o).setName("Connections Limit").setDesc("Maximum number of related notes to show").addSlider(t=>t.setLimits(5,50,5).setValue(this.plugin.settings.connectionsLimit).setDynamicTooltip().onChange(async e=>{this.plugin.settings.connectionsLimit=e,await this.plugin.saveSettings()})),o.createEl("h3",{text:"Writing / \uAE00\uC4F0\uAE30"}),new s.Setting(o).setName("Output Language / \uCD9C\uB825 \uC5B8\uC5B4").setDesc("Language for AI-generated content / AI\uAC00 \uC0DD\uC131\uD558\uB294 \uAE00\uC758 \uC5B8\uC5B4").addDropdown(t=>t.addOption("\uD55C\uAD6D\uC5B4","\uD55C\uAD6D\uC5B4 (Korean)").addOption("English","English").addOption("\u65E5\u672C\u8A9E","\u65E5\u672C\u8A9E (Japanese)").addOption("\u4E2D\u6587","\u4E2D\u6587 (Chinese)").addOption("Espa\xF1ol","Espa\xF1ol (Spanish)").addOption("Fran\xE7ais","Fran\xE7ais (French)").addOption("Deutsch","Deutsch (German)").setValue(this.plugin.settings.outputLanguage).onChange(async e=>{this.plugin.settings.outputLanguage=e,await this.plugin.saveSettings()}))}};
